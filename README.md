# boat-water-level-detection

水位检测程序说明

编译环境：vs2015 xx64
opencv版本：3.x
字符识别：HOG + SVM

程序大体流程为：图像旋转->水线检测->水位识别
（1）    图像旋转：首先对图像做canny检测，找到字符区域。根据字符的位置找到在一条包含字符框最多的直线，即刻度线，以该直线作为基准对图像进行整体的旋转，使刻度线接近垂直
（2）    水线检测：对刻度线区域进行提取，并向下多取一部分区域保证水面部分也被包含，根据中心位置的垂线段饱和度，从下到上寻找饱和度值突变的位置，将此位置认为是水线位置
（3）    水位识别：对旋转后的图像二值化进行字符区域检测，此时可根据垂直位置去除偏移较大的字符，然后根据M字符确定大概水位，然后根据距离水线的字符个数确定距离水线最近的水位，最后根据最后字符与水线的垂直距离估计出大概的水位刻度
